<div id="createEvent">
    <div class="container createEvent-body-container">
        {{!-- modal start --}}
        <div id="myModal" class="modal fade-out" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">From Incomplete</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Modal body text goes here.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">Save changes</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        {{!-- end modal --}}
        <div class="row" id="create-event-row">
            <div class="col-10 offset-1 login-col w-100">
                <h3 style="z-index: 100;">Edit your event!</h3>
                <form class="clearfix mb-4 create-event" action="">
                    <div class="form-group">
                        
                        <label for="example-text">Event Name</label>
                        <input type="" id="name" class="form-control" aria-describedby="example-text"
                            placeholder="Name" value="{{event.name}}" required>

                        <label for="example-text">Phone</label>
                        <input type="text" id="phone" class="form-control" aria-describedby="example-text"
                            placeholder="Phone Number" value="{{event.phone}}" required>

                        <label for="city">City</label>
                        <input type="text" id="city" class="form-control" aria-describedby="" placeholder="City"
                            value="{{event.city}}" required>

                        <label for="example-text">State</label>
                        <select class="custom-select" id="state" required>
                            <option selected value={{event.state}}>{{event.state}}</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District Of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>

                        <label for="courses">Courses</label>
                        <input type="number" id="courses" class="form-control" aria-describedby=""
                            placeholder="Number of Courses" value="{{event.courses}}" required>

                        <label for="example-text">Occasion</label>
                        <select class="custom-select" id="occasion" aria-describedby="" required>
                            <option selected value={{event.occasion}}>{{event.occasion}}</option>
                            <option value="Anniversary">Anniversary</option>
                            <option value="Anniversary">Baby Shower</option>
                            <option value="Birthday">Birthday</option>
                            <option value="Anniversary">Business</option>
                            <option value="Anniversary">Divorce</option>
                            <option value="Anniversary">General</option>
                            <option value="Anniversary">Graduation</option>
                            <option value="Anniversary">Holiday</option>
                            <option value="Anniversary">Other</option>
                            <option value="Anniversary">Wedding</option>
                        </select>

                        <label for="size">Party Size</label>
                        <input type="number" id="size" class="form-control" aria-describedby="size"
                            placeholder="Number of guests" value={{event.size}} required>

                        <label for="considerations">Any Considerations?</label>
                        <input type="text" id="consideration" class="form-control" aria-describedby="considerations"
                            placeholder="Kosher, Vegan, Halal, etc.." value="{{event.consideration}}">

                        <label for="alcohol">Alcohol</label>
                        <select class="custom-select" id="alcohol" aria-describedby="alcohol" required>
                            <option selected value={{event.alcohol}}>{{event.alcohol}}</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>

                        <label for="decor">Decor</label>
                        <select class="custom-select" id="decor" aria-describedby="decor" required>
                            <option selected value={{event.decor}}>{{event.decor}}</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>

                        <label for="date">Date</label>
                         <input type='date' id="date" class="form-control" value="{{event.date}}" required/>

                         <label for="time">Time</label>
                         <input type="time" id="time"
                            class="form-control" value="{{event.time}}" required>


                        <label for="comments">Comments</label>
                        <input type="text" id="comments" class="form-control" aria-describedby="comments"
                            placeholder="Any Kid's Meals? Dislikes?" value="{{event.comments}}">

                    </div>

                    <button id="submit" class="btn btn-primary edit-event-btn">Update Event</button>
                </form>
                <div class="row">  
                    <div class="col-lg-12 text-center" id="home-link">
                        <a class="" href="/customer"> Take Me Home, Country Roads.</a>
                     </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
    $(".edit-event-btn").on("click", function (event) {
    event.preventDefault();
    var newEvent = {
      name: $("#name").val().trim(),
      phone: $("#phone").val().trim(),
      city: $("#city").val().trim(),
      state: $("#state").val().trim(),
      occasion: $("#occasion").val().trim(),
      courses: $("#courses").val().trim(),
      consideration: $("#consideration").val().trim(),
      size: $("#size").val(),
      alcohol: $("#alcohol").val(),
      decor: $("#decor").val().trim(),
      date: $("#date").val().trim(),
      time: $("#time").val().trim(),
      comments: $("#comments").val().trim()
    };
    
    console.log(newEvent.name);

    $.ajax("/api/event/edit/{{event.eventid}}", {
      type: "POST",
      data: newEvent
    }).then(
      function () {
        console.log("created a new event!");
        window.location.href = "/customer";
      }
    );
  });
</script>